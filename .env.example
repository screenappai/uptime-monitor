# MongoDB Configuration
# For Docker: use mongodb://mongodb:27017/uptime-monitor
# For local: use mongodb://localhost:27017/uptime-monitor
# For MongoDB Atlas: use your connection string
MONGODB_URI=mongodb://mongodb:27017/uptime-monitor

# Application URL (for status pages, links, and Lambda API calls)
# For local development: http://localhost:3200
# For Amplify: https://main.d1234567890.amplifyapp.com
# For Vercel: https://your-app.vercel.app
NEXT_PUBLIC_APP_URL=http://localhost:3200

# Authentication Configuration
NEXTAUTH_URL=http://localhost:3200
# Used for both web (NextAuth.js) and mobile app (JWT) authentication
NEXTAUTH_SECRET=your-random-secret-key-here-change-this-in-production

# Multi-Tenant Mode
# false = Single-tenant: Only invited users can join. First user creates org, others need invitation.
# true = Multi-tenant: Each user can create their own organization.
MULTI_TENANT=false

# DEPRECATED - Only needed for initial migration script (scripts/migrate-to-multi-tenant.ts)
# After setup, users register via email + OTP (passwordless)
# ADMIN_EMAIL=admin@example.com

# DEPRECATED - No longer needed after migration to multi-tenant
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=your-secure-password-here

# Email Configuration (for alerts and OTP)
# For local development with Mailpit (docker-compose):
# View emails at: http://localhost:8027
EMAIL_HOST=mailpit
EMAIL_PORT=1025
EMAIL_USER=test
EMAIL_PASSWORD=test
EMAIL_FROM=noreply@localhost

# For production (Gmail example):
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=noreply@uptimemonitor.com

# Twilio Configuration (for phone call alerts)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Monitoring Configuration
MONITOR_INTERVAL_SECONDS=60
MONITOR_TIMEOUT_SECONDS=30
MONITOR_BATCH_SIZE=10            # Number of monitors to check in parallel (default: 10)

# Retry Configuration (applies to all monitors)
RETRY_COUNT=1                    # Number of retry attempts before failure (0 = no retries)
RETRY_INITIAL_DELAY=1000         # Initial retry delay in milliseconds
RETRY_MULTIPLIER=2               # Exponential backoff multiplier
RETRY_MAX_DELAY=5000            # Maximum delay between retries in milliseconds

# Cron Secret (for Vercel Cron or manual triggers)
# Generate with: openssl rand -base64 32
CRON_SECRET=your-random-cron-secret-here

# FCM Push Notifications (for mobile app) - Choose ONE option:

# Option 1: Community Relay (Recommended for self-hosters)
# Free relay service for open-source community
FCM_RELAY_URL=https://us-central1-uptime-monitor-483415.cloudfunctions.net/sendNotification
FCM_RELAY_API_KEY=uptime-monitor-community-2026

# Option 2: Direct FCM (Advanced - requires your own Firebase project)
# Uncomment and paste your Firebase service account JSON
# Note: Requires building custom mobile app with your google-services.json
# FIREBASE_SERVICE_ACCOUNT='{"type":"service_account","project_id":"your-project",...}'
